# Network Validation Testbed
# This file defines the network topology for pyATS tests

testbed:
  name: enterprise_network
  credentials:
    default:
      username: admin
      password: C1sc0123
    enable:
      password: C1sc0123

devices:
  # Core Layer
  core-router-1:
    type: router
    os: iosxe
    platform: CSR1000v
    credentials:
      default:
        username: admin
        password: C1sc0123
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.101
    custom:
      role: core
      loc: data-center-1
  
  core-router-2:
    type: router
    os: iosxe
    platform: CSR1000v
    credentials:
      default:
        username: admin
        password: C1sc0123
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.102
    custom:
      role: core
      loc: data-center-1

  # Edge Layer
  edge-router-1:
    type: router
    os: iosxe
    platform: ASR1001-X
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.111
    custom:
      role: edge
      loc: data-center-1
  
  edge-router-2:
    type: router
    os: iosxe
    platform: ASR1001-X
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.112
    custom:
      role: edge
      loc: data-center-2
  
  # Distribution Layer
  distribution-router-1:
    type: router
    os: ios
    platform: ISR4451
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.121
    custom:
      role: distribution
      loc: data-center-1
  
  distribution-router-2:
    type: router
    os: ios
    platform: ISR4451
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.122
    custom:
      role: distribution
      loc: data-center-2
  
  # Access Layer
  access-router-1:
    type: router
    os: ios
    platform: ISR4331
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.131
    custom:
      role: access
      loc: branch-office-1
  
  access-router-2:
    type: router
    os: ios
    platform: ISR4331
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.132
    custom:
      role: access
      loc: branch-office-2
  
  access-router-3:
    type: router
    os: ios
    platform: ISR4331
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.133
    custom:
      role: access
      loc: branch-office-3
  
  access-router-4:
    type: router
    os: ios
    platform: ISR4331
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.134
    custom:
      role: access
      loc: branch-office-4
  
  # Provider Edge
  pe-router-1:
    type: router
    os: iosxe
    platform: ASR9001
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.141
    custom:
      role: pe
      loc: data-center-1
  
  pe-router-2:
    type: router
    os: iosxe
    platform: ASR9001
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.142
    custom:
      role: pe
      loc: data-center-2
  
  # Management
  mgmt-router:
    type: router
    os: iosxe
    platform: CSR1000v
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.151
    custom:
      role: management
      loc: data-center-1
  
  # Internet Edge
  inet-edge:
    type: router
    os: iosxe
    platform: ASR1002-X
    connections:
      cli:
        protocol: ssh
        ip: 192.168.100.161
    custom:
      role: edge
      loc: data-center-1

topology:
  # Core to Core links
  core-router-1:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.0.1/30
        link: core-core
      GigabitEthernet0/1:
        ipv4: 10.0.1.1/30
        link: core1-edge1
      GigabitEthernet0/2:
        ipv4: 10.0.2.1/30
        link: core1-dist1
      GigabitEthernet0/3:
        ipv4: 10.0.3.1/30
        link: core1-pe1
      Loopback0:
        ipv4: 1.1.1.1/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.1/24
        link: mgmt-network
  
  core-router-2:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.0.2/30
        link: core-core
      GigabitEthernet0/1:
        ipv4: 10.0.4.1/30
        link: core2-edge2
      GigabitEthernet0/2:
        ipv4: 10.0.5.1/30
        link: core2-dist2
      GigabitEthernet0/3:
        ipv4: 10.0.6.1/30
        link: core2-pe2
      Loopback0:
        ipv4: 2.2.2.2/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.2/24
        link: mgmt-network
  
  # Edge Router connections
  edge-router-1:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.1.2/30
        link: core1-edge1
      GigabitEthernet0/1:
        ipv4: 10.0.7.1/30
        link: edge1-dist1
      GigabitEthernet0/2:
        ipv4: 172.16.1.1/30
        link: edge1-external
      Loopback0:
        ipv4: 3.3.3.3/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.11/24
        link: mgmt-network
  
  edge-router-2:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.4.2/30
        link: core2-edge2
      GigabitEthernet0/1:
        ipv4: 10.0.8.1/30
        link: edge2-dist2
      GigabitEthernet0/2:
        ipv4: 172.16.2.1/30
        link: edge2-external
      Loopback0:
        ipv4: 4.4.4.4/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.12/24
        link: mgmt-network
  
  # Distribution Router connections
  distribution-router-1:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.2.2/30
        link: core1-dist1
      GigabitEthernet0/1:
        ipv4: 10.0.7.2/30
        link: edge1-dist1
      GigabitEthernet0/2:
        ipv4: 10.0.10.1/30
        link: dist1-access1
      GigabitEthernet0/3:
        ipv4: 10.0.11.1/30
        link: dist1-access2
      Loopback0:
        ipv4: 5.5.5.5/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.21/24
        link: mgmt-network
  
  distribution-router-2:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.5.2/30
        link: core2-dist2
      GigabitEthernet0/1:
        ipv4: 10.0.8.2/30
        link: edge2-dist2
      GigabitEthernet0/2:
        ipv4: 10.0.12.1/30
        link: dist2-access3
      GigabitEthernet0/3:
        ipv4: 10.0.13.1/30
        link: dist2-access4
      Loopback0:
        ipv4: 6.6.6.6/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.22/24
        link: mgmt-network
  
  # Access Router connections
  access-router-1:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.10.2/30
        link: dist1-access1
      GigabitEthernet0/1:
        ipv4: 192.168.1.1/24
        link: branch1-lan
      Loopback0:
        ipv4: 7.7.7.7/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.31/24
        link: mgmt-network
  
  access-router-2:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.11.2/30
        link: dist1-access2
      GigabitEthernet0/1:
        ipv4: 192.168.2.1/24
        link: branch2-lan
      Loopback0:
        ipv4: 8.8.8.8/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.32/24
        link: mgmt-network
  
  access-router-3:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.12.2/30
        link: dist2-access3
      GigabitEthernet0/1:
        ipv4: 192.168.3.1/24
        link: branch3-lan
      Loopback0:
        ipv4: 9.9.9.9/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.33/24
        link: mgmt-network
  
  access-router-4:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.13.2/30
        link: dist2-access4
      GigabitEthernet0/1:
        ipv4: 192.168.4.1/24
        link: branch4-lan
      Loopback0:
        ipv4: 10.10.10.10/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.34/24
        link: mgmt-network
  
  # PE Router connections
  pe-router-1:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.3.2/30
        link: core1-pe1
      GigabitEthernet0/1:
        ipv4: 10.100.1.1/30
        link: pe1-p1
      GigabitEthernet0/2:
        ipv4: 10.100.2.1/30
        link: pe1-p2
      TenGigabitEthernet1/0:
        ipv4: 10.0.20.1/30
        link: pe1-ce1
      Loopback0:
        ipv4: 11.11.11.11/32
      GigabitEthernet2/0:
        ipv4: 192.168.10.41/24
        link: mgmt-network
  
  pe-router-2:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.6.2/30
        link: core2-pe2
      GigabitEthernet0/1:
        ipv4: 10.100.3.1/30
        link: pe2-p1
      GigabitEthernet0/2:
        ipv4: 10.100.4.1/30
        link: pe2-p2
      TenGigabitEthernet1/0:
        ipv4: 10.0.21.1/30
        link: pe2-ce2
      Loopback0:
        ipv4: 12.12.12.12/32
      GigabitEthernet2/0:
        ipv4: 192.168.10.42/24
        link: mgmt-network
  
  # Management Router
  mgmt-router:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 192.168.10.254/24
        link: mgmt-network
      GigabitEthernet0/1:
        ipv4: 172.16.100.1/30
        link: mgmt-external
      Loopback0:
        ipv4: 20.20.20.20/32
  
  # Internet Edge
  inet-edge:
    interfaces:
      GigabitEthernet0/0:
        ipv4: 10.0.30.1/30
        link: core1-inet
      GigabitEthernet0/1:
        ipv4: 10.0.31.1/30
        link: core2-inet
      GigabitEthernet0/2:
        ipv4: 203.0.113.2/30
        link: isp1
      GigabitEthernet0/3:
        ipv4: 203.0.113.6/30
        link: isp2
      Loopback0:
        ipv4: 100.100.100.100/32
      GigabitEthernet1/0:
        ipv4: 192.168.10.161/24
        link: mgmt-network
